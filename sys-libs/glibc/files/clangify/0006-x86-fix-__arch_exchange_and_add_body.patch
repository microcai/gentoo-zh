From 60fe344e4c9cacf9c953725309faa7e7ef63a2fc Mon Sep 17 00:00:00 2001
From: lujianhua <lujianhua000@gmail.com>
Date: Wed, 9 Feb 2022 14:20:22 +0800
Subject: [PATCH] x86: fix __arch_exchange_and_add_body

---
 sysdeps/x86/atomic-machine.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/sysdeps/x86/atomic-machine.h b/sysdeps/x86/atomic-machine.h
index f24f1c7..89eb5b5 100644
--- a/sysdeps/x86/atomic-machine.h
+++ b/sysdeps/x86/atomic-machine.h
@@ -196,7 +196,7 @@
      else if (__HAVE_64B_ATOMICS)					      \
        __asm __volatile (lock "xaddq %q0, %1"				      \
 			 : "=r" (__result), "=m" (*mem)			      \
-			 : "0" ((int64_t) cast_to_integer (__addval)),     \
+			 : "0" (cast_to_integer (__addval)),     \
 			   "m" (*mem),					      \
 			   "i" (offsetof (tcbhead_t, multiple_threads)));     \
      else								      \
-- 
2.34.1

