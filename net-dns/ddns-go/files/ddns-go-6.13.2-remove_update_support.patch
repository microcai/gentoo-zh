From b7c5dc4aed51202699d801088ed675f834f2f82d Mon Sep 17 00:00:00 2001
From: Puqns67 <me@puqns67.icu>
Date: Sun, 3 Dec 2023 17:17:25 +0800
Subject: [PATCH 1/3] build: remove update support for this build

---
 main.go | 8 --------
 1 file changed, 8 deletions(-)

diff --git a/main.go b/main.go
index 633683c..19315f8 100644
--- a/main.go
+++ b/main.go
@@ -19,7 +19,6 @@ import (
 	"github.com/jeessy2/ddns-go/v6/dns"
 	"github.com/jeessy2/ddns-go/v6/util"
 	"github.com/jeessy2/ddns-go/v6/util/osutil"
-	"github.com/jeessy2/ddns-go/v6/util/update"
 	"github.com/jeessy2/ddns-go/v6/web"
 	"github.com/kardianos/service"
 )
@@ -28,9 +27,6 @@ import (
 // ddns-go version
 var versionFlag = flag.Bool("v", false, "ddns-go version")
 
-// 更新 ddns-go
-var updateFlag = flag.Bool("u", false, "Upgrade ddns-go to the latest version")
-
 // 监听地址
 var listen = flag.String("l", ":9876", "Listen address")
 
@@ -76,10 +72,6 @@ func main() {
 		fmt.Println(version)
 		return
 	}
-	if *updateFlag {
-		update.Self(version)
-		return
-	}
 
 	if *daemonize && os.Getenv("DDNS_GO_DAEMON") != "1" {
 		if err := runAsDaemon(); err != nil {
-- 
2.52.0

