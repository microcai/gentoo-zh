From efdfdf07e4e6ff5502b5c04ee440d7cefa319269 Mon Sep 17 00:00:00 2001
From: Weng Xuetian <wengxt@gmail.com>
Date: Wed, 7 Sep 2022 21:06:32 -0700
Subject: [PATCH] Add potential missing cstdint

Fix #596
---
 src/frontend/waylandim/waylandimserverv2.h | 1 +
 src/im/keyboard/chardata.h                 | 1 +
 src/lib/fcitx-utils/dbus/message.h         | 1 +
 src/lib/fcitx-utils/dbus/message_details.h | 1 +
 src/lib/fcitx/event.h                      | 2 +-
 src/lib/fcitx/instance_p.h                 | 1 +
 src/modules/unicode/charselectdata.h       | 1 +
 src/modules/wayland/waylandmodule.h        | 1 +
 src/ui/classic/buffer.h                    | 1 +
 src/ui/classic/theme.h                     | 1 +
 src/ui/classic/waylandwindow.h             | 1 +
 11 files changed, 11 insertions(+), 1 deletion(-)

diff --git a/src/frontend/waylandim/waylandimserverv2.h b/src/frontend/waylandim/waylandimserverv2.h
index 2285bd15..6095d035 100644
--- a/src/frontend/waylandim/waylandimserverv2.h
+++ b/src/frontend/waylandim/waylandimserverv2.h
@@ -7,6 +7,7 @@
 #ifndef _FCITX5_FRONTEND_WAYLANDIM_WAYLANDIMSERVERV2_H_
 #define _FCITX5_FRONTEND_WAYLANDIM_WAYLANDIMSERVERV2_H_
 
+#include <cstdint>
 #include <fcitx-utils/event.h>
 #include <fcitx/focusgroup.h>
 #include <fcitx/instance.h>
diff --git a/src/im/keyboard/chardata.h b/src/im/keyboard/chardata.h
index ba400790..5e7dc0c8 100644
--- a/src/im/keyboard/chardata.h
+++ b/src/im/keyboard/chardata.h
@@ -7,6 +7,7 @@
 #ifndef _FCITX_IM_KEYBOARD_CHARDATA_H_
 #define _FCITX_IM_KEYBOARD_CHARDATA_H_
 
+#include <cstdint>
 #include <unordered_set>
 
 static const std::unordered_set<uint32_t> validSyms = {
diff --git a/src/lib/fcitx-utils/dbus/message.h b/src/lib/fcitx-utils/dbus/message.h
index 35ce54fd..1fcbf714 100644
--- a/src/lib/fcitx-utils/dbus/message.h
+++ b/src/lib/fcitx-utils/dbus/message.h
@@ -8,6 +8,7 @@
 #define _FCITX_UTILS_DBUS_MESSAGE_H_
 
 #include <cassert>
+#include <cstdint>
 #include <functional>
 #include <memory>
 #include <string>
diff --git a/src/lib/fcitx-utils/dbus/message_details.h b/src/lib/fcitx-utils/dbus/message_details.h
index 38fd5a1e..36eea24f 100644
--- a/src/lib/fcitx-utils/dbus/message_details.h
+++ b/src/lib/fcitx-utils/dbus/message_details.h
@@ -7,6 +7,7 @@
 #ifndef _FCITX_UTILS_DBUS_MESSAGE_DETAILS_H_
 #define _FCITX_UTILS_DBUS_MESSAGE_DETAILS_H_
 
+#include <cstdint>
 #include <tuple>
 #include <vector>
 #include <fcitx-utils/metastring.h>
diff --git a/src/lib/fcitx/event.h b/src/lib/fcitx/event.h
index d252159b..6094b03f 100644
--- a/src/lib/fcitx/event.h
+++ b/src/lib/fcitx/event.h
@@ -7,7 +7,7 @@
 #ifndef _FCITX_EVENT_H_
 #define _FCITX_EVENT_H_
 
-#include <stdint.h>
+#include <cstdint>
 #include <fcitx-utils/capabilityflags.h>
 #include <fcitx-utils/key.h>
 #include <fcitx/userinterface.h>
diff --git a/src/lib/fcitx/instance_p.h b/src/lib/fcitx/instance_p.h
index 26b0827f..cf8d329d 100644
--- a/src/lib/fcitx/instance_p.h
+++ b/src/lib/fcitx/instance_p.h
@@ -7,6 +7,7 @@
 #ifndef _FCITX_INSTANCE_P_H_
 #define _FCITX_INSTANCE_P_H_
 
+#include <cstdint>
 #include <memory>
 #include <string>
 #include <unordered_map>
diff --git a/src/modules/unicode/charselectdata.h b/src/modules/unicode/charselectdata.h
index f5d3d19d..59368adf 100644
--- a/src/modules/unicode/charselectdata.h
+++ b/src/modules/unicode/charselectdata.h
@@ -7,6 +7,7 @@
 #ifndef _FCITX_MODULES_UNICODE_CHARSELECTDATA_H_
 #define _FCITX_MODULES_UNICODE_CHARSELECTDATA_H_
 
+#include <cstdint>
 #include <set>
 #include <sstream>
 #include <string>
diff --git a/src/modules/wayland/waylandmodule.h b/src/modules/wayland/waylandmodule.h
index 2f336803..701d9d90 100644
--- a/src/modules/wayland/waylandmodule.h
+++ b/src/modules/wayland/waylandmodule.h
@@ -7,6 +7,7 @@
 #ifndef _FCITX_MODULES_WAYLAND_WAYLANDMODULE_H_
 #define _FCITX_MODULES_WAYLAND_WAYLANDMODULE_H_
 
+#include <cstdint>
 #include "fcitx-config/iniparser.h"
 #include "fcitx-utils/event.h"
 #include "fcitx-utils/i18n.h"
diff --git a/src/ui/classic/buffer.h b/src/ui/classic/buffer.h
index 5a7ad7dc..e5d6a10d 100644
--- a/src/ui/classic/buffer.h
+++ b/src/ui/classic/buffer.h
@@ -7,6 +7,7 @@
 #ifndef _FCITX_WAYLAND_CORE_BUFFER_H_
 #define _FCITX_WAYLAND_CORE_BUFFER_H_
 
+#include <cstdint>
 #include <memory>
 #include <cairo/cairo.h>
 #include <wayland-client.h>
diff --git a/src/ui/classic/theme.h b/src/ui/classic/theme.h
index 547b7dc4..93185180 100644
--- a/src/ui/classic/theme.h
+++ b/src/ui/classic/theme.h
@@ -7,6 +7,7 @@
 #ifndef _FCITX_UI_CLASSIC_THEME_H_
 #define _FCITX_UI_CLASSIC_THEME_H_
 
+#include <cstdint>
 #include <cairo/cairo.h>
 #include "fcitx-config/configuration.h"
 #include "fcitx-config/enum.h"
diff --git a/src/ui/classic/waylandwindow.h b/src/ui/classic/waylandwindow.h
index 5f7ab1a1..5d1cf74e 100644
--- a/src/ui/classic/waylandwindow.h
+++ b/src/ui/classic/waylandwindow.h
@@ -7,6 +7,7 @@
 #ifndef _FCITX_UI_CLASSIC_WAYLANDWINDOW_H_
 #define _FCITX_UI_CLASSIC_WAYLANDWINDOW_H_
 
+#include <cstdint>
 #include <cairo/cairo.h>
 #include "fcitx-utils/rect.h"
 #include "waylandui.h"
